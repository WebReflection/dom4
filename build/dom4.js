/*! (C) WebReflection Mit Style License */
(function(window){"use strict";function textNodeIfString(node){return typeof node==="string"?window.document.createTextNode(node):node}function mutationMacro(nodes){if(nodes.length===1){return textNodeIfString(nodes[0])}for(var fragment=window.document.createDocumentFragment(),list=slice.call(nodes),i=0;i<nodes.length;i++){fragment.appendChild(textNodeIfString(list[i]))}return fragment}for(var defineProperty=Object.defineProperty||function(object,property,descriptor){object.__defineGetter__(property,descriptor.get)},indexOf=[].indexOf||function indexOf(value){var length=this.length;while(length--){if(this[length]===value){break}}return length},head,property,verifyToken,DOMTokenList,trim=/^\s+|\s+$/g,spaces=/\s+/,SPACE=" ",toggle=function toggle(token,force){if(this.contains(token)){if(!force){this.remove(token)}}else if(force===undefined||force){force=true;this.add(token)}return!!force},ElementPrototype=(window.Element||window.Node||window.HTMLElement).prototype,properties=["matches",ElementPrototype.matchesSelector||ElementPrototype.webkitMatchesSelector||ElementPrototype.khtmlMatchesSelector||ElementPrototype.mozMatchesSelector||ElementPrototype.msMatchesSelector||ElementPrototype.oMatchesSelector||function matches(selector){var parentNode=this.parentNode;return!!parentNode&&-1<indexOf.call(parentNode.querySelectorAll(selector),this)},"closest",function closest(selector){var parentNode=this,matches;while((matches=parentNode&&parentNode.matches)&&!parentNode.matches(selector)){parentNode=parentNode.parentNode}return matches?parentNode:null},"prepend",function prepend(){var firstChild=this.firstChild,node=mutationMacro(arguments);if(firstChild){this.insertBefore(node,firstChild)}else{this.appendChild(node)}},"append",function append(){this.appendChild(mutationMacro(arguments))},"before",function before(){var parentNode=this.parentNode;if(parentNode){parentNode.insertBefore(mutationMacro(arguments),this)}},"after",function after(){var parentNode=this.parentNode,nextSibling=this.nextSibling,node=mutationMacro(arguments);if(parentNode){if(nextSibling){parentNode.insertBefore(node,nextSibling)}else{parentNode.appendChild(node)}}},"replace",function replace(){this.replaceWith.apply(this,arguments)},"replaceWith",function replaceWith(){var parentNode=this.parentNode;if(parentNode){parentNode.replaceChild(mutationMacro(arguments),this)}},"remove",function remove(){var parentNode=this.parentNode;if(parentNode){parentNode.removeChild(this)}}],slice=properties.slice,i=properties.length;i;i-=2){property=properties[i-2];if(!(property in ElementPrototype)){ElementPrototype[property]=properties[i-1]}}if(!document.createElement("a").matches("a")){ElementPrototype[property]=function(matches){return function(selector){return matches.call(this.parentNode?this:document.createDocumentFragment().appendChild(this),selector)}}(ElementPrototype[property])}if(!("classList"in document.documentElement)){verifyToken=function(token){if(!token){throw"SyntaxError"}else if(spaces.test(token)){throw"InvalidCharacterError"}return token};DOMTokenList=function(node){var className=(typeof node.className==="object"?node.className.baseVal:node.className).replace(trim,"");if(className){properties.push.apply(this,className.split(spaces))}this._=node};DOMTokenList.prototype={length:0,add:function add(){for(var j=0,token;j<arguments.length;j++){token=arguments[j];if(!this.contains(token)){properties.push.call(this,property)}}if(typeof this._.className==="object"){this._.className.baseVal=""+this}else{this._.className=""+this}},contains:function(indexOf){return function contains(token){i=indexOf.call(this,property=verifyToken(token));return-1<i}}([].indexOf||function(token){i=this.length;while(i--&&this[i]!==token){}return i}),item:function item(i){return this[i]||null},remove:function remove(){for(var j=0,token;j<arguments.length;j++){token=arguments[j];if(this.contains(token)){properties.splice.call(this,i,1)}}this._.className=""+this},toggle:toggle,toString:function toString(){return properties.join.call(this,SPACE)}};defineProperty(ElementPrototype,"classList",{get:function get(){return new DOMTokenList(this)},set:function(){}})}else{DOMTokenList=document.createElement("div").classList;DOMTokenList.add("a","b","a");if("a b"!=DOMTokenList){ElementPrototype=DOMTokenList.constructor.prototype;if(!("add"in ElementPrototype)){ElementPrototype=window.DOMTokenList.prototype}verifyToken=function(original){return function(){var i=0;while(i<arguments.length){original.call(this,arguments[i++])}}};ElementPrototype.add=verifyToken(ElementPrototype.add);ElementPrototype.remove=verifyToken(ElementPrototype.remove);ElementPrototype.toggle=toggle}}if(!("head"in document)){defineProperty(document,"head",{get:function(){return head||(head=document.getElementsByTagName("head")[0])}})}try{new window.CustomEvent("?")}catch(o_O){window.CustomEvent=function(eventName,defaultInitDict){function CustomEvent(type,eventInitDict){var event=document.createEvent(eventName);if(typeof type!="string"){throw new Error("An event name must be provided")}if(eventName=="Event"){event.initCustomEvent=initCustomEvent}if(eventInitDict==null){eventInitDict=defaultInitDict}event.initCustomEvent(type,eventInitDict.bubbles,eventInitDict.cancelable,eventInitDict.detail);return event}function initCustomEvent(type,bubbles,cancelable,detail){this.initEvent(type,bubbles,cancelable);this.detail=detail}return CustomEvent}(window.CustomEvent?"CustomEvent":"Event",{bubbles:false,cancelable:false,detail:null})}})(window);